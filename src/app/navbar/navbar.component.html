<div class="navbar bg-base-100 px-4 sm:px-6 lg:px-8 flex-col md:flex-row">
  <div class="flex-1 flex items-center justify-between w-full">
    <!-- Logo et redirection -->
    <a [routerLink]="['./']" class="flex items-center">
      <img
        src="./assets/logo.png"
        [alt]="title"
        class="w-24 h-24 sm:w-32 sm:h-32"
        (click)="redirectToHome()" />
    </a>

    <!-- Bouton Hamburger pour mobile -->
    <div class="md:hidden">
      <button
        class="text-gray-500 hover:text-gray-700 focus:outline-none focus:text-gray-700"
        aria-label="Menu"
        (click)="menuOpen = !menuOpen">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-6 h-6">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>

    <!-- Menu en grand écran -->
    <div class="hidden md:flex items-center space-x-4">
      <a [routerLink]="['./auth']" class="text-lg font-medium text-gray-700 hover:text-gray-900" *ngIf="!(user$ | async); else loggedInLinks" >
        Se Connecter / S'inscrire
      </a>

     
      <!-- Avatar utilisateur -->
      <div *ngIf="user$ | async" class="dropdown dropdown-bottom">
        <div tabindex="0" role="button" class="btn btn-ghost btn-circle avatar">
          <div class="w-10 rounded-full">
            <img
              alt="Avatar utilisateur"
              src="{{ (user$ | async)?.photoProfile }}" />
          </div>
        </div>
        <ul
          tabindex="0"
          class="menu menu-sm dropdown-content bg-base-100 rounded-box z-[1] mt-3 w-52 p-2 shadow">
          <li>
            <a routerLink="/profile" class="justify-between">
              Profil
              <span class="badge">Nouveau</span>
            </a>
          </li>
          <li><a>Paramètres</a></li>
          <li><a>Déconnexion</a></li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Menu déroulant en mobile -->
  <div
    [class.block]="menuOpen"
    [class.hidden]="!menuOpen"
    class="md:hidden flex-col">
    <a [routerLink]="['./auth']" class="text-lg font-medium text-gray-700 hover:text-gray-900" *ngIf="!(user$ | async); else loggedInLinks" >
      Se Connecter / S'inscrire
    </a>
  </div>
  <ng-template #loggedInLinks>
    <ul class="flex flex-col md:flex-row gap-2">
      <li>
        <a routerLink="/profile">Profile {{ (user$ | async)?.firstName }}</a>
      </li>
      <li>
        <a (click)="logout()" routerLink="/auth">Déconnection</a>
      </li>
    </ul>
  </ng-template>
</div>
